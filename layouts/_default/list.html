{{ define "main" }}
<div class="list">
    <h1>{{ .Title }}</h1>
    
    {{ if eq .Section "posts" }}
    <ul class="post-list">
        {{ range .Pages.ByDate.Reverse }}
        <li class="post-item">
            <div class="post-meta">
                <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "January 2, 2006" }}</time>
            </div>
            <h2 class="post-title"><a href="{{ .Permalink }}">{{ .Title }}</a></h2>
            {{ if .Summary }}
            <p>{{ .Summary | truncate 200 }}</p>
            {{ end }}
        </li>
        {{ end }}
    </ul>
    
    {{ else if eq .Section "notes" }}
    <ul class="note-list">
        {{ range .Pages.ByDate.Reverse }}
        <li class="note-item">
            <div class="note-meta">
                <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "Jan 2, 2006 3:04 PM" }}</time>
            </div>
            <div class="note-content">
                {{ .Content }}
            </div>
            <a href="{{ .Permalink }}" class="permalink">Permalink</a>
        </li>
        {{ end }}
    </ul>
    
    {{ else if eq .Section "links" }}
    {{ $links := sort .Site.Data.links "date" "desc" }}
    <ul class="link-list">
        {{ range $links }}
        <li class="link-item">
            <div class="link-meta">
                <time datetime="{{ .date }}">{{ time .date | dateFormat "January 2, 2006" }}</time>
            </div>
            <h3><a href="{{ .link }}" target="_blank" rel="noopener">{{ .title }}</a></h3>
            <div class="link-url">{{ .link }}</div>
            {{ with .note }}
            <div class="note-content">
                {{ . | markdownify }}
            </div>
            {{ end }}
        </li>
        {{ end }}
    </ul>
    
    {{ else }}
    <ul class="post-list">
        {{ range .Pages.ByDate.Reverse }}
        <li class="post-item">
            <div class="post-meta">
                <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "January 2, 2006" }}</time>
            </div>
            <h2 class="post-title"><a href="{{ .Permalink }}">{{ .Title }}</a></h2>
        </li>
        {{ end }}
    </ul>
    {{ end }}
</div>
{{ end }}
